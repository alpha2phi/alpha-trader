openapi: 3.0.0
info:
  title: Sentiment API
  version: 0.1.0
paths:
  /api/sentiment:
    get:
      summary: Get Fear & Greed and VIX snapshot
      responses:
        '200':
          description: Sentiment snapshot
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SentimentSnapshot'
        '503':
          description: No data available
components:
  schemas:
    SentimentSnapshot:
      type: object
      properties:
        fear_greed:
          type: object
          properties:
            score: { type: integer }
            category: { type: string }
            updated_at: { type: string, format: date-time }
            cache_state: { type: string, enum: [fresh, stale] }
            provider: { type: string }
        vix:
          type: object
          properties:
            level: { type: number }
            abs_change: { type: number }
            pct_change: { type: number }
            updated_at: { type: string, format: date-time }
            cache_state: { type: string, enum: [fresh, stale] }
            provider: { type: string }
      required: [fear_greed, vix]
