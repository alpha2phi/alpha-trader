{"session_id":"019ab002-8df5-7491-a61b-12dbc5f12bef","ts":1763889568,"text":"\n## User Input\n\n```text\n\n```\n\nYou **MUST** consider the user input before proceeding (if not empty).\n\n## Outline\n\nYou are updating the project constitution at `.specify/memory/constitution.md`. This file is a TEMPLATE containing placeholder tokens in square brackets (e.g. `[PROJECT_NAME]`, `[PRINCIPLE_1_NAME]`). Your job is to (a) collect/derive concrete values, (b) fill the template precisely, and (c) propagate any amendments across dependent artifacts.\n\nFollow this execution flow:\n\n1. Load the existing constitution template at `.specify/memory/constitution.md`.\n   - Identify every placeholder token of the form `[ALL_CAPS_IDENTIFIER]`.\n   **IMPORTANT**: The user might require less or more principles than the ones used in the template. If a number is specified, respect that - follow the general template. You will update the doc accordingly.\n\n2. Collect/derive values for placeholders:\n   - If user input (conversation) supplies a value, use it.\n   - Otherwise infer from existing repo context (README, docs, prior constitution versions if embedded).\n   - For governance dates: `RATIFICATION_DATE` is the original adoption date (if unknown ask or mark TODO), `LAST_AMENDED_DATE` is today if changes are made, otherwise keep previous.\n   - `CONSTITUTION_VERSION` must increment according to semantic versioning rules:\n     - MAJOR: Backward incompatible governance/principle removals or redefinitions.\n     - MINOR: New principle/section added or materially expanded guidance.\n     - PATCH: Clarifications, wording, typo fixes, non-semantic refinements.\n   - If version bump type ambiguous, propose reasoning before finalizing.\n\n3. Draft the updated constitution content:\n   - Replace every placeholder with concrete text (no bracketed tokens left except intentionally retained template slots that the project has chosen not to define yet‚Äîexplicitly justify any left).\n   - Preserve heading hierarchy and comments can be removed once replaced unless they still add clarifying guidance.\n   - Ensure each Principle section: succinct name line, paragraph (or bullet list) capturing non‚Äënegotiable rules, explicit rationale if not obvious.\n   - Ensure Governance section lists amendment procedure, versioning policy, and compliance review expectations.\n\n4. Consistency propagation checklist (convert prior checklist into active validations):\n   - Read `.specify/templates/plan-template.md` and ensure any \"Constitution Check\" or rules align with updated principles.\n   - Read `.specify/templates/spec-template.md` for scope/requirements alignment‚Äîupdate if constitution adds/removes mandatory sections or constraints.\n   - Read `.specify/templates/tasks-template.md` and ensure task categorization reflects new or removed principle-driven task types (e.g., observability, versioning, testing discipline).\n   - Read each command file in `.specify/templates/commands/*.md` (including this one) to verify no outdated references (agent-specific names like CLAUDE only) remain when generic guidance is required.\n   - Read any runtime guidance docs (e.g., `README.md`, `docs/quickstart.md`, or agent-specific guidance files if present). Update references to principles changed.\n\n5. Produce a Sync Impact Report (prepend as an HTML comment at top of the constitution file after update):\n   - Version change: old ‚Üí new\n   - List of modified principles (old title ‚Üí new title if renamed)\n   - Added sections\n   - Removed sections\n   - Templates requiring updates (‚úÖ updated / ‚ö† pending) with file paths\n   - Follow-up TODOs if any placeholders intentionally deferred.\n\n6. Validation before final output:\n   - No remaining unexplained bracket tokens.\n   - Version line matches report.\n   - Dates ISO format YYYY-MM-DD.\n   - Principles are declarative, testable, and free of vague language (\"should\" ‚Üí replace with MUST/SHOULD rationale where appropriate).\n\n7. Write the completed constitution back to `.specify/memory/constitution.md` (overwrite).\n\n8. Output a final summary to the user with:\n   - New version and bump rationale.\n   - Any files flagged for manual follow-up.\n   - Suggested commit message (e.g., `docs: amend constitution to vX.Y.Z (principle additions + governance update)`).\n\nFormatting & Style Requirements:\n\n- Use Markdown headings exactly as in the template (do not demote/promote levels).\n- Wrap long rationale lines to keep readability (<100 chars ideally) but do not hard enforce with awkward breaks.\n- Keep a single blank line between sections.\n- Avoid trailing whitespace.\n\nIf the user supplies partial updates (e.g., only one principle revision), still perform validation and version decision steps.\n\nIf critical info missing (e.g., ratification date truly unknown), insert `TODO(<FIELD_NAME>): explanation` and include in the Sync Impact Report under deferred items.\n\nDo not create a new template; always operate on the existing `.specify/memory/constitution.md` file.\n"}
{"session_id":"019ab00a-2e1f-7ab0-8a53-50ce7a4cf17e","ts":1763890092,"text":"\n## User Input\n\n```text\n\n```\n\nYou **MUST** consider the user input before proceeding (if not empty).\n\n## Outline\n\nYou are updating the project constitution at `.specify/memory/constitution.md`. This file is a TEMPLATE containing placeholder tokens in square brackets (e.g. `[PROJECT_NAME]`, `[PRINCIPLE_1_NAME]`). Your job is to (a) collect/derive concrete values, (b) fill the template precisely, and (c) propagate any amendments across dependent artifacts.\n\nFollow this execution flow:\n\n1. Load the existing constitution template at `.specify/memory/constitution.md`.\n   - Identify every placeholder token of the form `[ALL_CAPS_IDENTIFIER]`.\n   **IMPORTANT**: The user might require less or more principles than the ones used in the template. If a number is specified, respect that - follow the general template. You will update the doc accordingly.\n\n2. Collect/derive values for placeholders:\n   - If user input (conversation) supplies a value, use it.\n   - Otherwise infer from existing repo context (README, docs, prior constitution versions if embedded).\n   - For governance dates: `RATIFICATION_DATE` is the original adoption date (if unknown ask or mark TODO), `LAST_AMENDED_DATE` is today if changes are made, otherwise keep previous.\n   - `CONSTITUTION_VERSION` must increment according to semantic versioning rules:\n     - MAJOR: Backward incompatible governance/principle removals or redefinitions.\n     - MINOR: New principle/section added or materially expanded guidance.\n     - PATCH: Clarifications, wording, typo fixes, non-semantic refinements.\n   - If version bump type ambiguous, propose reasoning before finalizing.\n\n3. Draft the updated constitution content:\n   - Replace every placeholder with concrete text (no bracketed tokens left except intentionally retained template slots that the project has chosen not to define yet‚Äîexplicitly justify any left).\n   - Preserve heading hierarchy and comments can be removed once replaced unless they still add clarifying guidance.\n   - Ensure each Principle section: succinct name line, paragraph (or bullet list) capturing non‚Äënegotiable rules, explicit rationale if not obvious.\n   - Ensure Governance section lists amendment procedure, versioning policy, and compliance review expectations.\n\n4. Consistency propagation checklist (convert prior checklist into active validations):\n   - Read `.specify/templates/plan-template.md` and ensure any \"Constitution Check\" or rules align with updated principles.\n   - Read `.specify/templates/spec-template.md` for scope/requirements alignment‚Äîupdate if constitution adds/removes mandatory sections or constraints.\n   - Read `.specify/templates/tasks-template.md` and ensure task categorization reflects new or removed principle-driven task types (e.g., observability, versioning, testing discipline).\n   - Read each command file in `.specify/templates/commands/*.md` (including this one) to verify no outdated references (agent-specific names like CLAUDE only) remain when generic guidance is required.\n   - Read any runtime guidance docs (e.g., `README.md`, `docs/quickstart.md`, or agent-specific guidance files if present). Update references to principles changed.\n\n5. Produce a Sync Impact Report (prepend as an HTML comment at top of the constitution file after update):\n   - Version change: old -> new\n   - List of modified principles (old title -> new title if renamed)\n   - Added sections\n   - Removed sections\n   - Templates requiring updates (‚úÖ updated / ‚ö† pending) with file paths\n   - Follow-up TODOs if any placeholders intentionally deferred.\n\n6. Validation before final output:\n   - No remaining unexplained bracket tokens.\n   - Version line matches report.\n   - Dates ISO format YYYY-MM-DD.\n   - Principles are declarative, testable, and free of vague language (\"should\" -> replace with MUST/SHOULD rationale where appropriate).\n\n7. Write the completed constitution back to `.specify/memory/constitution.md` (overwrite).\n\n8. Output a final summary to the user with:\n   - New version and bump rationale.\n   - Any files flagged for manual follow-up.\n   - Suggested commit message (e.g., `docs: amend constitution to vX.Y.Z (principle additions + governance update)`).\n\nFormatting & Style Requirements:\n\n- Use Markdown headings exactly as in the template (do not demote/promote levels).\n- Wrap long rationale lines to keep readability (<100 chars ideally) but do not hard enforce with awkward breaks.\n- Keep a single blank line between sections.\n- Avoid trailing whitespace.\n\nIf the user supplies partial updates (e.g., only one principle revision), still perform validation and version decision steps.\n\nIf critical info missing (e.g., ratification date truly unknown), insert `TODO(<FIELD_NAME>): explanation` and include in the Sync Impact Report under deferred items.\n\nDo not create a new template; always operate on the existing `.specify/memory/constitution.md` file.\n"}
{"session_id":"019ab00a-2e1f-7ab0-8a53-50ce7a4cf17e","ts":1763890141,"text":"/prompts:speckit.constitution ## Purpose\nThis repository uses **AI coding agents**. This file defines behavior, review principles, and communication standards for all supported languages. It encodes universal coding philosophy, language-specific guidelines, tooling expectations, and contribution rules to ensure clarity, maintainability, and compatibility.\n\n---\n\n## Core Philosophy (Universal)\n\n1. **Good Taste ‚Äì Prefer the General Solution**  \n   - Eliminate special cases with better data structures.  \n   - Avoid unnecessary `if/else` branching.  \n   - Favor elegance and simplicity.  \n\n2. **Never Break Userspace**  \n   - Maintain backward compatibility.  \n   - Treat regressions as bugs.  \n   - Code must serve real users, not theoretical purity.  \n\n3. **Pragmatism Over Perfection**  \n   - Solve actual problems, not hypothetical ones.  \n   - Prefer practical, proven solutions over overly complex ideals.  \n\n4. **Simplicity Obsession**  \n   - Functions/modules should be short and focused.  \n   - More than 3 levels of nesting ‚Üí redesign.  \n   - Naming should be concise and descriptive.  \n\n---\n\n## Communication Principles\n\n- **Style**: Direct, concise, technically precise. Critique code, not people.  \n- **Output**: Clear, structured, and actionable.  \n- **Priority**: Correctness, maintainability, backward compatibility.  \n\n---\n\n## Requirement Analysis Workflow\n\nWhen evaluating a feature or request:\n\n1. **Data Structure Analysis** ‚Äì identify core data and ownership.  \n2. **Special Case Identification** ‚Äì remove unnecessary branching.  \n3. **Complexity Review** ‚Äì simplify until essence is clear.  \n4. **Backward Compatibility Check** ‚Äì never break existing functionality.  \n5. **Practicality Verification** ‚Äì confirm real-world necessity.  \n\n---\n\n## Decision Output Format\n\n- **Core Judgment**: Worth doing / Not worth doing (with reason).  \n- **Key Insights**: data, complexity, risks.  \n- **Solution Guidance**: simplify data, remove special cases, guarantee zero destructiveness.  \n\n---\n\n## Code Review Standards\n\n- **Taste Score**: Good taste / Acceptable / Needs work.  \n- **Fatal Issues**: Call out immediately.  \n- **Improvement Suggestions**: reduce branching, simplify, refactor data.  \n\n---\n\n## Language-Specific Guidelines\n\n### üêç Python\n- Follow **PEP 8** for style and formatting.  \n- Use type hints (`typing`) when possible.  \n- Keep functions small; prefer pure functions.  \n- Use `pytest` or `unittest` for testing.  \n- Avoid overusing classes; use simple functions where sufficient.  \n\n### ‚ö° JavaScript\n- Follow **ESLint (airbnb or standard rules)**.  \n- Prefer `const`/`let` over `var`.  \n- Keep functions modular and avoid large monolithic scripts.  \n- Use async/await instead of nested callbacks.  \n- Always lint before committing.  \n\n### üìò TypeScript\n- Use strict typing (`strict: true`).  \n- Prefer interfaces over type aliases for contracts.  \n- Catch `any` usage ‚Äî replace with explicit types.  \n- Leverage generics for reusable code.  \n- Run `tsc --noImplicitAny` before committing.  \n\n### üåê Node.js\n- Follow **12-factor app** principles.  \n- Use async/await for async flows.  \n- Handle errors with try/catch or `.catch()`.  \n- Keep dependencies minimal.  \n- Scripts should exit cleanly (no unhandled promises).  \n\n### ‚öõÔ∏è React\n- Use **functional components** with hooks.  \n- Keep components small and composable.  \n- Use `prop-types` or TypeScript for props validation.  \n- Avoid unnecessary re-renders (`React.memo`, key usage).  \n- Follow **React Testing Library** or Jest for tests.  \n\n### üêπ Golang\n- Follow **Effective Go** guidelines.  \n- Keep functions short; prefer readability over cleverness.  \n- Always handle errors explicitly.  \n- Use `go fmt` and `golangci-lint`.  \n- Favor interfaces for abstractions; avoid unnecessary OOP.  \n\n### ü¶Ä Rust\n- Follow **Rust API guidelines**.  \n- Use idiomatic error handling (`Result`, `?` operator).  \n- Avoid unsafe unless absolutely necessary.  \n- Write unit tests in the same file as code.  \n- Prefer immutability and ownership clarity.  \n\n### üñ•Ô∏è PowerShell\n- Follow **Verb-Noun** naming for functions (e.g., `Get-User`).  \n- Use `Write-Verbose` and `Write-Error` appropriately.  \n- Keep scripts idempotent when possible.  \n- Comment scripts with `#` to explain non-obvious logic.  \n\n### üñäÔ∏è Bash / Zsh\n- Start scripts with `#!/usr/bin/env bash` (or zsh).  \n- Use `set -euo pipefail` to catch errors early.  \n- Quote variables (`\"$VAR\"`) to avoid word-splitting.  \n- Prefer functions over inline blocks for reusability.  \n- Keep scripts POSIX-compatible where possible.  \n\n---\n\n## üß™ Testing & Tooling\n\nBefore committing or merging code, run the following checks:\n\n### Python\n- `pytest` (unit tests)  \n- `flake8` or `ruff` (lint)  \n- `black` (format)  \n- `mypy` (type check)  \n\n### JavaScript / TypeScript / Node.js / React\n- `npm test` or `yarn test`  \n- `eslint .` (lint)  \n- `prettier --check .` (format check)  \n- `tsc --noEmit` (for TypeScript type checking)  \n\n### Golang\n- `go fmt ./...` (format)  \n- `golangci-lint run` (lint)  \n- `go test ./...` (tests)  \n\n### Rust\n- `cargo fmt --check` (format)  \n- `cargo clippy -- -D warnings` (lint)  \n- `cargo test` (tests)  \n\n### PowerShell\n- `Invoke-Pester` (tests if present)  \n- `pwsh -Command { . .\\script.ps1 }` (basic syntax check)  \n\n### Bash / Zsh\n- `shellcheck script.sh` (lint)  \n- `bash -n script.sh` (syntax check)  \n- Run scripts with safe flags (`set -euo pipefail`).  \n\n---\n\n## üì• Commit & PR Guidelines\n\n### Commit Messages\n- Use [Conventional Commits](https://www.conventionalcommits.org/):  \n  - `feat:` ‚Üí new feature  \n  - `fix:` ‚Üí bug fix  \n  - `docs:` ‚Üí documentation only  \n  - `test:` ‚Üí add/modify tests  \n  - `chore:` ‚Üí maintenance  \n- Example:  \n  ```\n  feat(auth): add JWT refresh token support\n  fix(api): correct null pointer in user lookup\n  ```\n\n### Pull Requests\n- **Title**: Clear, concise, follows commit style if possible.  \n- **Description**: Must include:  \n  - **Context**: What problem this solves.  \n  - **Changes**: What was done.  \n  - **Testing**: How it was verified.  \n  - **Impact**: Any breaking changes, migrations, or risks.  \n\n### Review Standards\n- PRs must pass **all tests and tooling checks** before merge.  \n- Keep PRs **small and focused** (single concern).  \n- Avoid mixing refactors with feature changes.  \n\n### Branching\n- Use feature branches: `feature/short-description`  \n- Use bugfix branches: `fix/short-description`  \n- Keep `main` (or `master`) always stable.  \n\n---\n\n## üìÑ PR Template\n\nCopy the following into `.github/PULL_REQUEST_TEMPLATE.md` to auto-fill PRs:\n\n```markdown\n## üîç Context\nExplain why this change is needed. What problem does it solve? Link to issue/task if applicable.\n\n## ‚ú® Changes\n- [ ] Feature: ...\n- [ ] Fix: ...\n- [ ] Refactor: ...\n- [ ] Docs/Tests/Chore: ...\n\n## üß™ Testing\nDescribe how you tested this change.  \n- Commands run:  \n- Unit/Integration tests:  \n- Manual validation steps:  \n\n## ‚ö†Ô∏è Impact\n- [ ] Breaking change  \n- [ ] Requires migration  \n- [ ] No breaking changes  \n\n## ‚úÖ Checklist\n- [ ] Code is linted and formatted  \n- [ ] All tests pass locally (`npm test`, `pytest`, `go test`, etc.)  \n- [ ] Follows commit guidelines (Conventional Commits)  \n- [ ] Updated docs/tests if necessary  \n```"}
